{"version":3,"sources":["hooks.js","Joke.js","Stories.js","Tasks.js","App.js","index.js"],"names":["useFetch","url","initialValue","_useState","useState","_useState2","Object","slicedToArray","result","setResult","useEffect","fetch","then","response","json","Joke","_useFetch","setup","punchline","react_default","a","createElement","Stories","stories","className","map","story","id","by","time","title","key","href","Date","toLocaleString","storeTasks","taskMap","localStorage","setItem","JSON","stringify","readStoredTasks","parse","getItem","tasks","completedTasks","Tasks","taskText","setTaskText","storedTasks","_useState3","_useState4","setTasks","_useState5","_useState6","setCompletedTasks","deleteTask","task","filter","t","console","log","value","onChange","event","target","onClick","concat","toConsumableArray","uuid","completedTask","App","userQuery","setUserQuery","searchQuery","window","open","onKeyPress","src_Joke","src_Tasks","src_Stories","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.212a4f91.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\n\nexport const useFetch = (url, initialValue) => {\n  const [result, setResult] = useState(initialValue)\n\n  useEffect(() => {\n    fetch(url)\n      .then(response => response.json())\n      .then(json => setResult(json))\n  }, [])\n\n  return result\n}\n","import React from 'react'\n\nimport { useFetch } from './hooks'\n\nfunction Joke() {\n  const { setup, punchline } = useFetch('https://official-joke-api.appspot.com/random_joke', {})\n\n  return (\n    <div>\n      <h3>Joke</h3>\n      <p>{setup}</p>\n      <p>\n        <em>{punchline}</em>\n      </p>\n    </div>\n  )\n}\n\nexport default Joke\n","import React from 'react'\n\nimport { useFetch } from './hooks'\n\nfunction Stories() {\n  const stories = useFetch('https://news-proxy-server.appspot.com/topstories', [])\n\n  return (\n    <div className=\"Stories\">\n      <h3>Stories</h3>\n      {stories.map(story => {\n        const { id, by, time, title, url } = story\n\n        return (\n          <div key={id}>\n            <a href={url}>{title}</a>\n            <div>\n              {by} - {new Date(time * 1000).toLocaleString()}\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Stories\n","import React, { useState, useEffect } from 'react'\nimport uuid from 'uuid/v4'\n\nconst TASKS_STORAGE_KEY = 'TASKS_STORAGE_KEY'\n\nconst storeTasks = taskMap => {\n  localStorage.setItem(TASKS_STORAGE_KEY, JSON.stringify(taskMap))\n}\n\nconst readStoredTasks = () => {\n  const taskMap = JSON.parse(localStorage.getItem(TASKS_STORAGE_KEY))\n  return taskMap ? taskMap : { tasks: [], completedTasks: [] }\n}\n\n// let i = 0\n\nfunction Tasks() {\n  const [taskText, setTaskText] = useState('')\n  const storedTasks = readStoredTasks()\n  const [tasks, setTasks] = useState(storedTasks.tasks)\n  const [completedTasks, setCompletedTasks] = useState(storedTasks.completedTasks)\n\n  useEffect(() => {\n    storeTasks({ tasks, completedTasks })\n  })\n\n  // if (i % 2 === 0) {\n  //   ;[tasks, setTasks] = useState([])\n  //   ;[completedTasks, setCompletedTasks] = useState([])\n  // } else {\n  //   let [foo, setFoo] = useState([])\n  //   let [bar, setBar] = useState([])\n  //   tasks = foo\n  //   setTasks = setFoo\n  //   completedTasks = bar\n  //   setCompletedTasks = setBar\n  // }\n\n  // // 这里测试了，i的值，在每次输入和 点击click 都会刷新他的值\n  // i++\n  // console.log(i)\n\n  const updateTaskText = event => {\n    setTaskText(event.target.value)\n  }\n\n  const addTask = () => {\n    setTasks([...tasks, { taskText, id: uuid() }])\n  }\n\n  const completeTask = completedTask => () => {\n    // 将任务 添加到已完成的数组内。\n    setCompletedTasks([...completedTasks, completedTask])\n    // 重新赋值tasks， 过滤传入的completedTask\n    setTasks(tasks.filter(task => task.id !== completedTask.id))\n  }\n\n  const deleteTask = task => () => {\n    setCompletedTasks(completedTasks.filter(t => t.id !== task.id))\n    // setTasks([...tasks, task])\n  }\n\n  console.log('tasks', tasks)\n\n  return (\n    <div>\n      <h3>Tasks 要做的任务</h3>\n      <div className=\"form\">\n        <input value={taskText} onChange={updateTaskText} />\n        <button onClick={addTask}>添加计划</button>\n      </div>\n      <div className=\"task-list\">\n        {tasks.map(task => {\n          const { id, taskText } = task\n          return (\n            <div key={id} onClick={completeTask(task)}>\n              {taskText}\n            </div>\n          )\n        })}\n        <div className=\"completed-list\">\n          {completedTasks.map(task => {\n            const { id, taskText } = task\n\n            return (\n              <div key={id}>\n                {taskText} {'  '}{' '}\n                <span onClick={deleteTask(task)} className=\"delete-task\">\n                  x\n                </span>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Tasks\n","import React, { useState } from 'react'\nimport Joke from './Joke'\nimport Stories from './Stories'\nimport Tasks from './Tasks'\n\nfunction App() {\n  const [userQuery, setUserQuery] = useState('')\n\n  const updateUserQuery = event => {\n    setUserQuery(event.target.value)\n    console.log('userQuery', userQuery)\n  }\n\n  const handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      searchQuery()\n    }\n  }\n\n  const searchQuery = () => {\n    window.open(`https://www.baidu.com/s?wd=${userQuery}`, '_blank')\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Hello David</h1>\n      <div className=\"form\">\n        <input value={userQuery} onChange={updateUserQuery} onKeyPress={handleKeyPress} />\n        <button onClick={searchQuery}>搜索</button>\n        {userQuery}\n      </div>\n      <hr />\n      <Joke />\n      <hr />\n      <Tasks />\n      <hr />\n      <Stories />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// function createObject() {\n//   console.log('outermost this', this)\n\n//   return {\n//     arrowFunction: () => {\n//       console.log('allowFunction this', this)\n//     },\n//     functionKeywordFunction: function() {\n//       console.log('functionKeyword this', this)\n//     }\n//   }\n// }\n\n// const obj = createObject()\n// console.log('obj', obj)\n// obj.arrowFunction()\n// obj.functionKeywordFunction()\n"],"sourceRoot":""}